# Linux基础

虚拟机安装Linux时，虚拟机的网络连接三种形式说明：

1.桥连接：Linux可以和其它系统通信，但是可能造成IP冲突。

2.NAT：网络地址转换方式：Linux可以访问外网，不会造成IP冲突。

3.主机模式：Linux是一个独立的主机，不能访问外网。

**一、Linux常用命令**：

获取帮助信息：`man 指令`，`help 指令`，如`man ls`

打印当前工作路径：`pwd`

切换当前目录：`cd 路径`，返回上一级`cd ../`

创建目录：`mkdir`

删除，`rm`常用选项 `-r`(递归删除整个文件夹)

创建文件，可以一次创建多个:`touch`

移动和重命名:`mv`,例如a.txt重命名，直接执行`mv a.txt b.txt`

复制文件：`cp 来源文件 目标文件`

查看文件内容:`cat`,`-n`可以显示行号。`cat ** | more`可以分页显示。

分屏查看文件内容，大型文件来看：`less`

`ls -l >文件`:把列表的内容写入文件中

`ls -l >> 文件`:把列表的内容追写入到文件中

`echo "hello" >> t.txt`：把hello写到t.txt中。`echo $PATH`:输出当前环境变量的路径

`head`:显示文件的开头部分。`head -n 5 文件`:显示前5行的内容。

`tail`:输出文件尾部的部分。`tail -n 5 文件`:显示倒数5行的内容。`tail -f 文件`：追踪该文档的所有更新。

`date`来设置时间：`date -s "2020-01-01 01:01:01"`

日历显示：`cal 2020`

`find`: find+搜索范围+选项 eg:`find /home -name Hello.txt`	

`grep`指令与管道符号：grep过滤查找，`"|"`表示将前一个命令的处理结果输出传递给后面的命令处理。

`uname -r`:查看内核版本

`df`:查看磁盘的空间，`df -h`

`free`:查看内存的使用情况，`free -m`

**二、vim编辑器**

vim三种模式：命令模式，编辑模式，命令行模式

光标进到行首：`shift+6`;行尾`shift+4`

首行`gg`；末行`G`

翻屏：`ctrl+b`  ; `ctrl+f`

复制光标所在行:`yy`； 复制多行 `数字yy`；粘贴`p`

可视化复制：`ctrl+v`

剪切/删除：按键`dd`，`数字dd`，D(删除之后当前行会变成空白行）

撤销：`:u`

恢复之前的撤销操作：`ctrl+r`

`数字+G`:将光标移动到指定的行

`数字↑↓`：移动多少行，左右移动同理

查找某个单词：在命令行下,`/+关键字`

**命令行模式**

保存操作：

输入：`":w"`，保存文件；退出：`":q"`；保存并退出：`"wq"`；强制退出：`":q!"`；取消高亮：`":nohl"`

替换：`":s/搜索的关键词/新的内容"`，替换光标所在行的第一处符合条件的内容

":s/搜索的关键词/新的内容/g"，替换光标所在行的全部符合条件的内容

":%s/搜索的关键词/新的内容"，替换整个文档的第一处符合条件的内容

":%s/搜索的关键词/新的内容/g"，替换整个文档的符合条件的内容

在命令行下，显示行号

`":set nu"  set nonu`

使用vim同时打开多个文件，在末行模式下进行切换文件

查看已打开的文件名称:`files`

切换文件的方式：`:open 文件名称`

通过其他的命令打开上一个或下一个：`:bn`,切换到下一个文件；`:bp`,切换到上一个文件

**编辑模式**：按`i`或`a`

代码着色：`:syntax on`；`:syntax off`

vim计算器的使用，进入编辑模式，`ctrl+r`

**三、Linux用户与用户组管理**

任何一个要使用系统资源的用户，必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统，Linux的用户至少要属于一个组。

添加用户：`useradd 【选项】用户名`，在HOME目录下就有这个用户了。

`useradd -d `指定目录 新的用户名，给新创建的用户指定家目录

指定密码：`passwd 用户名`

删除用户：`userdel 用户名`，可以加选项-r，表示不保留家目录。

查询用户信息：`id 用户名` 

从高权限向低权限用户切换：`su -**`

当需要返回原来用户时，使用`exit`指令。

查看当前用户：`whoami`

增加组：`groupadd 组名`

删除组：`groupdel 组名`

`useradd -g 用户组 用户名`：增加用户时直接加上组。

修改用户的组：`usermod -g 用户组 用户名`

用户和组的相关的配置文件：/etc/passwd、/etc/group、/etc/shadow



`chgrp` ：改变文件所属群组 

`chown` ：改变文件拥有者 

`chmod` ：改变文件的权限, SUID, SGID, SBIT 等等的特性 

各权限的分数对照表如下： r:4 w:2 x:1 

x是excuteable；d：代表的是文件夹； -：代表的是文件
 第一组的wrx代表的是自己的读写执行
 第二组的代表的是自己组下的读写执行
 第三组代表的是不在自己组下的读写执行权限



网络相关命令：ping:检测主机与目标主机的联通性，如：ping 主机地址、ip地址、域名

netstat:查看网络的连接信息

压缩与解压缩：

`tar -zcvf a.tar.gz 1.txt 2.txt`:把1和2.txt打包

`tar -zxvf a.tar.gz`解压

`tar -zxvf a.tar.gz -c /opt`:解压到指定的目录

开源镜像网站：

http://mirrors.sohu.com/mysql/

http://mirrors.ustc.edu.cn/mysql-ftp/Downloads/

http://segmentfault.com/a/1190000000375848

http://mirrors.ustc.edu.cn/





































